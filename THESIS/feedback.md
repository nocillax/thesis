Our faculty suggested some key changes and additions to our existing project.

1. Fix the admin's recent activity section! currently it just shows the last 3 actions and clicking the buttons takes to the action history! which is technically correct but our faculty said to implement a section where all the actions done while being offline (now this can comprise of all the stuffs done by the other non-admin and admin users both). considering we are already having a history of the actions - we can just store the offline time IN THE BLOCKCHAIN (bcz this time also needs to be immutable) - then we can just calculate the time duration from the offline time to the moment the admin logs in - and show all the log activity during his offline time in a neat way! -> this can be done either in a seperate page or we can maybe modify the action history page to show the actions either seperately or we could just bold out those - Im not really sure what is the standard process of showing this!! - now im also concerned abt one thing - if we make these 2 sections sepearate - then i mean during the admin is online - that "offline activity stuffs" doesnt need to update right?? like the recent activity and action history should show that anyways - so the offline section shouldnt update as the admin is online right?? (also in every history section - cert, user, actions -> u are only showing the time like 05:43 AM -> u should show the entire date as well!! like 12 Nov, 2025 05:43 AM -> something like this - use trunc month name like MON instead of using numbers like DD/MM/YYYY to avoid confusion with MM/DD/YYYY -> kindly fix that as well and use this style of date-time elsewhere as well!!)|

2. we need to change a core functionality in backend and frontend a bit - we are now no longer going to allow a non-admin user revoke-reactivate a certificate! take that ability away from both backend and frontend as well!! however! instead of a revoke - reactivate -> this will be more like a revoke request (with message) and a reactivate request (with message) -> 100% use a shadcn component to achive the following UI feature - when i click the Make Revoke(or Reactivate) Request -> a dialog from shadcn will open up! it will show 2 things - 1. few input boxes auto filled (non changeable) -> the student id, certificate hash, staff id (basically the user who is making the request), the type of request (Reactivate / Revoke - auto filled and non changeable), a message text area thingy - this is where the staff would write the message request. -> this will be stored in a database table - we can discuss on exactly what fields needs to be there - but im sure these are the only things needed in this table. and maybe a bool -> basically checking if the request is done, not done, or not approved or something.

3. when an admin revokes a certificate -> there must be a Reasoning message -> must be stored in blockchain bcz this reasoning has to be immutable - we can maybe fix the max word count to reduce block cost! this reasoning will show in frontend certificate details section under the pdf showing the certificate. we can use the similar card design and we can show the revoke reason, which admin revoked it, when revoked it in that same card! these details will also be stored inside the blockchain not in the database!

4. we need to fix how the certificate is generated - how its verified! currently we are using a template to generate the certificate style and everything its currently nice and works. even the verification works - but an external orgaization wont verify a certificate by pasting the cert hash -> this is tedious. instead we would be using a qr code. in the certificate template and the part where we generate the certificate png thingy - we have to put a very small qr code that contains ONLY the certificate hash. dont code the qr code create thingy - just us a existing library-tool to do this thing. so tldr - the certificate png-pdf will have a qr code at maybe the bottom center of the certificate that contains the certificate hash of that certificate.
5. now comes fixing the verification process! as we now have the certificate hash as a small qr code in the certificate pdf itself! now we can remove this manual certificate hash input thing in the verification page - and instead we can directly upload a certificate pdf, we would check for the qr code in the pdf (we can fix the location like the bottom middle in which the qr code would be scanning to reduce code complexity maybe - or if it doesnt matter than skip this bit) - we would definitely use a library to do this. now scanning the qr code would give the cert hash, the system can automatically take that cert hash and verify the certificate for us -> the rest part is same -> show the cert details (if cert is revoked ofc show that similar card with who revoked, when and why)
6. first of all - anyone trying to verify a cert must i mean MUST fill a dialog (from shadcn) form. this would consist of the persons name, his work email, institution/company name, institution/company website. without filling this form - one cannot verify any certificate. we have to do basic validations here. also keep in mind what to do if he wants to verify say multiple certs -> we dont want to make it such that every time he refreshes the page he needs to fill out these - so we need something to tackle this issue as well!! now we will save these info in our database in another table. this would be some sort of a data dump to store who tried to verify which student-id -> just a way of yk having a sort of data who are vising out page, which company is our students mostly applying to , which universities etc etc. we could save it in cookie or the users local storage (with timeout ofc) so he doesnt need to fillup the form everytime he verifies a cert. like yk a company might want to verify 5-10 certs. we dont want them to fill up the form 10 times ofc. and the modal wont be closable. it MUST be filled. and ofc filling it will have to do something - so the verify page understands that the modal was filled yk. unless anyone could just use inspect element to remove the modal!!. also when saving the verifier info , do save what cert hash was verified and exactly when it was verified in the db.
7. now as this is a public api of some sort - we need to make sure no ones trying to slow us down by trying to unnecessarily verify huge amounts of certs, or maybe reverifying the same cert multiple times via a script or something - we need to save us from this sort of attacks. now im not really sure on exactly what we can do to fix this - i need ur help on this. we could use any library if such exist. we could use our database to maybe store who is doing this using which certificate. like if one cert is being verified maybe 3-4 times in past 10-15 mins we kind of block that user for 60mins -> im not sure whats the best optimal and less-code solution. so i need ur help with that.
8. and in the admin frontend we need a verifier log page of some sort that shows who verified which certs, and it would be great if there was a way to block that user from verifying (blocking by time would be great though) - also allow unblocking.

9. while issuing a certificate - we are currently manually inputting the students info. this needs to be changed. we would only put the student id, and from the database we would auto fill the rest of the fields (unchangeable input fields). we would need a table in the db for that ofc! and regarding the issuing authority -> the thing is whoever uses this software is the issueing authority. now we could technically make a sort of global variable or something like we could hard code this that the issueing authority is "this univeristy" and everywhere this would be used! i mean this issueing authority comes only in this issue cert case, elsewhere this var is being fetched from the block. so only once we need to assign it. so we could technically make a somewhat hard code issue authority. and considering its a thesis - im not sure if i can use my univeristy name hardcoded also.
   u can handle this the standard way. the table in the db must have a credit completed field. the code will auto check if the credit completed is NOT 148 it will show an error saying this student hasnt completed 148 credits.
   so the issue is we have a hardcoded credit limit, and a issue authority - make it somewhat possible for the admin to make these variables. like i mean to say is only the admin can change these 2 varibales (if possible) - or to reduce complexity - directly use Unviersity of Example, and 148 hardcoded - i dont want unnecessary complexity for these 2 things.

---

My Suggested Implementation Order (Easiest â†’ Complex):
Fix date-time format (simple find-replace across frontend)
Student database + auto-fill (straightforward CRUD)
QR code in certificate (just generation, one library)
Revoke reasoning (blockchain event modification)
Verifier form + logging (database + validation)
QR verification from PDF (more complex - PDF parsing + QR scanning)
Rate limiting (depends on Redis vs in-memory decision)
Revoke/Reactivate requests (new workflow, UI dialogs, admin review page)
Offline activity tracking (complex - needs login/logout tracking + blockchain storage)
Admin verifier management page (depends on #7)
